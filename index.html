<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Sazid Shaaj Ghar</title>
<style>
  body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f9f9f9; }
  header { background: #e91e63; color: white; padding: 1.5em; text-align: center; }
  .tutorial {
    background: #fff3f8; 
    border: 2px solid #e91e63; 
    margin: 1em auto; 
    padding: 1em 1.5em; 
    max-width: 600px; 
    border-radius: 10px;
    font-size: 1rem;
    color: #6b0a3d;
    line-height: 1.5;
  }
  .tutorial strong { color: #e91e63; }
  .products, .product-detail { display: grid; gap: 1.5em; padding: 1em 2em 3em 2em; }
  .products { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
  .product {
    background: white;
    padding: 1em;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    text-align: center;
    cursor: pointer;
    transition: transform 0.2s;
  }
  .product:hover { transform: scale(1.05); }
  .product img { width: 100%; height: 150px; object-fit: cover; border-radius: 10px; }
  .product h3 { margin: 0.5em 0; color: #333; }
  .product-detail { display: none; grid-template-columns: 1fr; text-align: center; }
  .product-detail.active { display: grid; }
  .designs { display: flex; flex-wrap: wrap; justify-content: center; margin-top: 1em; }
  .designs img {
    width: 80px; height: 80px; margin: 0.5em;
    border-radius: 8px; cursor: pointer;
    border: 2px solid transparent; transition: transform 0.2s;
  }
  .designs img:hover { transform: scale(1.05); }
  .designs img.selected { border-color: #e91e63; }
  .buttons { margin-top: 1.5em; }
  .buttons button {
    padding: 0.8em 1.6em;
    margin: 0.5em;
    border: none;
    border-radius: 5px;
    font-size: 1em;
    cursor: pointer;
    transition: background 0.3s;
  }
  .add { background: #2196f3; color: white; }
  .add:hover { background: #1e88e5; }
  .buy { background: #4caf50; color: white; }
  .buy:hover { background: #43a047; }
  .back { background: #e91e63; color: white; }
  .back:hover { background: #d81b60; }
  label {
    display: block;
    margin-top: 1.2em;
    font-weight: bold;
    color: #555;
  }
  input, select {
    padding: 0.5em;
    font-size: 1em;
    margin-top: 0.3em;
    width: 100%;
    max-width: 320px;
    border: 1px solid #ccc;
    border-radius: 6px;
  }
  #location-info {
    margin-top: 0.8em;
    font-style: italic;
    color: #777;
    max-width: 320px;
    margin-left: auto;
    margin-right: auto;
  }
  #custom-location { display: none; margin-top: 0.5em; }
</style>
</head>
<body>

<header>
  <h1>Sazid Shaaj Ghar</h1>
  <p>Event Management & Flower Decoration</p>
</header>

<section class="tutorial" aria-label="Website usage tutorial">
  <h2>How to Order from Our Website</h2>
  <ol>
    <li><strong>Select a product</strong> by tapping on its image.</li>
    <li>If available, <strong>choose a design</strong> or upload your own.</li>
    <li>Set <strong>when you need the service</strong> using the date & time picker.</li>
    <li>Choose <strong>delivery option</strong>: Takeaway or Delivery.</li>
    <li>If you choose Delivery, <strong>enter your address</strong> in the box.</li>
    <li><strong>Select a price range</strong> suitable for your budget.</li>
    <li>Click <strong>Add to Cart</strong> or <strong>Buy Now</strong>.</li>
    <li>Use the <strong>Back</strong> button anytime to return to the products list.</li>
  </ol>
  <p>Enjoy shopping with us!</p>
</section>

<section class="products" id="product-list" aria-label="Product list"></section>

<section class="product-detail" id="product-detail" aria-label="Product details">
  <button class="back" onclick="goBack()">← Back</button>
  <h2 id="detail-title"></h2>
  <img id="detail-image" src="" alt="Product Image" style="width:100%; max-width:400px; margin: 1em auto; border-radius:10px;" />
  
  <label id="design-label" style="display:none;">Select a Design:</label>
  <div class="designs" id="designs"></div>
  
  <label for="custom-design">Or upload your own design:</label>
  <input type="file" id="custom-design" accept="image/*" onchange="uploadCustom()" />
  
  <label for="need-date-time">When do you need it?</label>
  <input type="datetime-local" id="need-date-time" />
  
  <label for="delivery-option">Delivery Option:</label>
  <select id="delivery-option" onchange="handleDeliveryOption()">
    <option value="Takeaway">Takeaway (Pick up yourself)</option>
    <option value="Delivery">Delivery (We deliver to you)</option>
  </select>
  
  <div id="location-info">
    Pickup Location: <a href="https://maps.app.goo.gl/aW1tMgSrNxHXWh9y8" target="_blank" rel="noopener noreferrer">View on Map</a>
  </div>
  
  <input type="text" id="custom-location" placeholder="Enter your delivery address here" />
  
  <label for="price-range">Select Price Range:</label>
  <select id="price-range">
    <option value="৳2000-5000">৳2000 - ৳5000</option>
    <option value="৳5001-10000">৳5001 - ৳10000</option>
    <option value="৳10001-20000">৳10001 - ৳20000</option>
    <option value="৳20001+">৳20001 and above</option>
  </select>
  
  <div class="buttons">
    <button class="add" onclick="addToCart()">Add to Cart</button>
    <button class="buy" onclick="buyNow()">Buy Now</button>
  </div>
</section>

<script>
  const whatsappNumber = "+8801840117711"; // Change if needed
  
  const products = [
    { name: "বাসরঘর (Wedding Room)", img: "https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80" },
    { name: "স্টেজ (Stage)", img: "https://images.unsplash.com/photo-1519677100203-a0e668c92439?auto=format&fit=crop&w=400&q=80" },
    { name: "ফুল (Flower Arrangement)", img: "https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=400&q=80" },
    { name: "তোরা (Torah Decoration)", img: "https://images.unsplash.com/photo-1514996937319-344454492b37?auto=format&fit=crop&w=400&q=80" },
    { name: "গাড়ি (Car Decoration)", img: "https://images.unsplash.com/photo-1501594907352-04cda38ebc29?auto=format&fit=crop&w=400&q=80" },
    { name: "মালা (Mala Decoration)", img: "https://images.unsplash.com/photo-1504384308090-c894fdcc538d?auto=format&fit=crop&w=400&q=80" },
    { name: "ফুলের ঝুড়ি (Flower Basket)", img: "https://images.unsplash.com/photo-1514490923902-ef9b6d1a8b38?auto=format&fit=crop&w=400&q=80" },
    { name: "ইভেন্ট ম্যানেজমেন্ট (Event Management)", img: "https://images.unsplash.com/photo-1496307042754-b4aa456c63f7?auto=format&fit=crop&w=400&q=80" }
  ];
  
  let selectedProduct = null;
  let selectedDesign = null;
  let uploadedDesign = null;
  
  const productListEl = document.getElementById("product-list");
  const productDetailEl = document.getElementById("product-detail");
  const detailTitle = document.getElementById("detail-title");
  const detailImage = document.getElementById("detail-image");
  const designsEl = document.getElementById("designs");
  const designLabel = document.getElementById("design-label");
  const customDesignInput = document.getElementById("custom-design");
  const needDateTimeInput = document.getElementById("need-date-time");
  const deliveryOptionSelect = document.getElementById("delivery-option");
  const locationInfo = document.getElementById("location-info");
  const customLocationInput = document.getElementById("custom-location");
  const priceRangeSelect = document.getElementById("price-range");
  
  // Show product list
  function showProducts() {
    productListEl.innerHTML = "";
    products.forEach((product, index) => {
      const div = document.createElement("div");
      div.className = "product";
      div.tabIndex = 0;
      div.setAttribute("role", "button");
      div.setAttribute("aria-pressed", "false");
      div.setAttribute("aria-label", product.name);
      div.innerHTML = `
        <img src="${product.img}" alt="${product.name}" />
        <h3>${product.name}</h3>
      `;
      div.onclick = () => showProductDetail(index);
      div.onkeypress = (e) => { if(e.key === "Enter") showProductDetail(index); }
      productListEl.appendChild(div);
    });
    productListEl.style.display = "grid";
    productDetailEl.classList.remove("active");
  }
  
  // Show product detail with designs and inputs
  function showProductDetail(index) {
    selectedProduct = products[index];
    selectedDesign = null;
    uploadedDesign = null;
    
    detailTitle.textContent = selectedProduct.name;
    detailImage.src = selectedProduct.img;
    customDesignInput.value = "";
    needDateTimeInput.value = "";
    deliveryOptionSelect.value = "Takeaway";
    customLocationInput.value = "";
    customLocationInput.style.display = "none";
    locationInfo.style.display = "block";
    priceRangeSelect.value = "৳2000-5000";
    
    // Show designs if product is "স্টেজ (Stage)" as example
    if (selectedProduct.name.includes("স্টেজ")) {
      designLabel.style.display = "block";
      designsEl.style.display = "flex";
      // Example designs (replace with your own image URLs)
      const designImages = [
        "https://images.unsplash.com/photo-1529070538774-1843cb3265df?auto=format&fit=crop&w=80&q=80",
        "https://images.unsplash.com/photo-1504198453319-5ce911bafcde?auto=format&fit=crop&w=80&q=80",
        "https://images.unsplash.com/photo-1514516870929-6fce32a6e594?auto=format&fit=crop&w=80&q=80"
      ];
      designsEl.innerHTML = "";
      designImages.forEach((src, i) => {
        const img = document.createElement("img");
        img.src = src;
        img.alt = `Design ${i+1}`;
        img.onclick = () => {
          selectedDesign = src;
          uploadedDesign = null;
          document.querySelectorAll("#designs img").forEach(img => img.classList.remove("selected"));
          img.classList.add("selected");
          customDesignInput.value = "";
        };
        designsEl.appendChild(img);
      });
    } else {
      designLabel.style.display = "none";
      designsEl.style.display = "none";
      designsEl.innerHTML = "";
    }
    
    productListEl.style.display = "none";
    productDetailEl.classList.add("active");
  }
  
  function uploadCustom() {
    const file = customDesignInput.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = function(e) {
        uploadedDesign = e.target.result;
        selectedDesign = null;
        document.querySelectorAll("#designs img").forEach(img => img.classList.remove("selected"));
      };
      reader.readAsDataURL(file);
    }
  }
  
  function handleDeliveryOption() {
    if (deliveryOptionSelect.value === "Delivery") {
      customLocationInput.style.display = "block";
      locationInfo.style.display = "none";
    } else {
      customLocationInput.style.display = "none";
      locationInfo.style.display = "block";
      customLocationInput.value = "";
    }
  }
  
  // Compose message for WhatsApp with all details including price range
  function composeMessage() {
    const productName = selectedProduct ? selectedProduct.name : "";
    const design = uploadedDesign ? "Uploaded custom design
